## 06. 마무리

여기까지 워크숍의 전체 흐름을 한 바퀴 완주했습니다. 우리는 OpenRMF가 이종 로봇이 한 공간에서 안전하고 효율적으로 협업하도록 만드는 운영 레이어라는 것을, 개념이 아니라 실제로 실습해보면서 확인했습니다.

---

### End-to-End

**1) Traffic Editor로 “규칙의 지도”를 만든 것**  
Traffic Editor는 단순한 맵 편집기가 아니라, RMF가 판단할 수 있도록 **Vertex/Lane/Level/Door/Lift 같은 규칙을 정의하는 도구**였습니다. 또한 시뮬레이션을 쉽게 구축하기 위한 도구임을 배웠습니다.
![alt text](../images/02/2.png)

**2) Gazebo 시뮬레이션에서 규칙이 “물리 세계”로 바뀌는 걸 확인**  
Traffic Editor에서 정의한 규칙이 Gazebo World로 이어지고, CLI로 Task를 던졌을 때 로봇이 실제로 움직이며 문/엘리베이터 같은 공용 자원을 RMF가 조율하는 모습을 관찰했습니다. 
![alt text](../images/03/12.png)

**3) Task Scheduling과 Deadlock을 “일부러” 만들어 보고, RMF-Web으로 운영하기**  
여러 Task가 동시에 들어올 때 교착(Deadlock)과 병목이 왜 위험한지 직접 확인했고, RMF의 협상/조율이 어떻게 동작하는지 감각적으로 이해했습니다. 이어서 RMF-Web을 통해 로봇/자원/Task를 **운영 관점**에서 관찰하고 제어하는 흐름을 익혔습니다. 
![alt text](../images/04/4.png)

**4) Fleet Adapter: 시뮬레이션을 넘어 실물 로봇으로 가는 관문**  
마지막으로 Fleet Adapter가 왜 필요한지(제조사/제어방식이 다르기 때문에)와, `fleet_adapter_template`에서 무엇을 구현해야 실제 로봇을 RMF에 붙일 수 있는지(특히 RobotClientAPI의 핵심 함수들)까지 연결했습니다.
![alt text](../images/05/5.png)

---

### 미쳐 다루지 못한 이야기 

**Mutex group**은 Traffic Map에서 특정 lane/waypoint를 “한 번에 1대의 로봇만 점유”하도록 만드는 기능입니다. 로봇이 mutex 그룹에 속한 구역을 지나기 전 해당 mutex를 lock해야 하며, 같은 mutex는 동시에 한 로봇만 lock할 수 있습니다. 이 기능은 좁은 복도, 도킹/충전 레인처럼 동시 진입 시 교착(Deadlock)이나 비효율적 협상이 발생하기 쉬운 구간을 “구역 단위로 단일 점유”하게 만들어, 전체 교통 안정성과 예측 가능성을 높여줍니다. 
* mutex group 에 대한 상세 링크 : https://discourse.openrobotics.org/t/new-release-of-open-rmf-on-iron-and-rolling/35397

**crossflow**는 OpenRMF 팀이 개발 중인 워크플로우 엔진/리액티브 프로그래밍 라이브러리로, 복잡한 비동기 절차(병렬 실행, 동기화, 레이스, 반복)를 코드의 상태기계로만 구현하지 않고 워크플로우 다이어그램으로 구성/실행할 수 있게 해줍니다. RMF가 앞으로 “이동 로봇 교통/작업 할당”을 넘어, 문/엘리베이터/작업셀 같은 다양한 장치와 소프트웨어를 함께 오케스트레이션하는 방향으로 확장될 때 유용한 기반 기술로 볼 수 있습니다.
* crossflow에 대한 상세 링크 : https://github.com/open-rmf/crossflow

---


OpenRMF는 오픈소스 생태계 위에서 커뮤니티와 함께 계속 진화하고 있습니다. 그래서 한 번의 설치/실습으로 끝나는 기술이 아니라, 실제 현장의 요구(좁은 공간, 충전기 공유, 운영 중 로봇 투입/제외 등)에 맞춰 기능과 패턴이 지속적으로 보강되는 프레임워크입니다.

오늘 실습에서 경험한 흐름(공간 규칙 정의 → 시뮬레이션 검증 → 스케줄링/교착 관찰 → 운영 도구 활용)을 출발점으로, 여러분의 공간/로봇/업무 시나리오에 맞게 RMF를 작게는 교통 설계부터, 크게는 운영 정책과 통합(어댑터/워크플로우)까지 확장해보면 좋겠습니다.